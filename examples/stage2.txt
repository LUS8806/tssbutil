RETAIN YEARS <YEAR_START> THROUGH <TEST_YEAR> ;
READ MARKET LIST "..\symbols.txt" ;
READ MARKET HISTORIES "C:\TSSB\Data\IBM.txt" ;
READ VARIABLE LIST "..\trend_volatility.txt" ;


MODEL BEST1 IS LINREG [
   INPUT = [ <GROUP1> ]
   OUTPUT = DAY_RETURN
   MAX STEPWISE = 0
   CRITERION = PROFIT FACTOR
   MIN CRITERION FRACTION = 0.1
] ;

MODEL BEST2 IS LINREG [
   INPUT = [ <GROUP2> ]
   OUTPUT = DAY_RETURN
   MAX STEPWISE = 0
   CRITERION = PROFIT FACTOR
   MIN CRITERION FRACTION = 0.1
] ;

COMMITTEE COMM1 IS CONSTRAINED [
   INPUT = [ BEST1 BEST2 ]
   OUTPUT = DAY_RETURN
   MAX STEPWISE = 2
   CRITERION = PROFIT FACTOR
   MIN CRITERION FRACTION = 0.1
] ;

COMMITTEE COMM2 IS AVERAGE [
   INPUT = [ BEST1 BEST2 ]
   OUTPUT = DAY_RETURN
   MAX STEPWISE = 0
   CRITERION = PROFIT FACTOR
   MIN CRITERION FRACTION = 0.1
] ;

WALK FORWARD BY year 11 <TEST_YEAR> ;
